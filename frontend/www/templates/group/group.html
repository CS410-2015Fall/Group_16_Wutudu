<ion-view view-title="Group">

  <ion-nav-buttons side="right">
    <button class="button button-icon button-clear ion-person-add" ng-click="showAddFriend()">
    </button>
  </ion-nav-buttons>

  <ion-content>
    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="doRefresh()">
    </ion-refresher>
  
    <div class="item text-center">
      <h1 ng-bind="data.name"></h1>
    </div>

    <div class="list">

      <ion-item class="item item-divider"
                ng-click="toggleList(0)"
                ng-class="{active: listsShow[0]}">
        <i class="icon" ng-class="listsShow[0] ? 'ion-minus' : 'ion-plus'"></i>
        &nbsp;
        Upcoming Wutudus ({{wutuduEvents.length}})
      </ion-item>

      <ion-list>
        <ion-item class="item" ng-repeat="wutudu in wutuduEvents"
                               ng-click="showWutuduDetail(wutudu)"
                               ng-show="listsShow[0]">
          <span class="icon-wutudu-bw inline-block"></span>  {{wutudu.display_date}}
        </ion-item>
      </ion-list>

      <ion-item class="item item-divider"
                ng-click="toggleList(1)"
                ng-class="{active: listsShow[1]}">
        <i class="icon" ng-class="listsShow[1] ? 'ion-minus' : 'ion-plus'"></i>
        &nbsp;
        In Progress Wutudus ({{inProgressWutudus.length}})
      </ion-item>

      <ion-list>
        <ion-item class="item" ng-repeat="wutudu in inProgressWutudus"
                               ng-click="showPreWutuduOptions(wutudu)"
                               ng-show="listsShow[1]">
          <span class="icon-wutudu-bw rotate-90 inline-block"></span> {{wutudu.display_date}} ({{answeredStateString(wutudu)}})
        </ion-item>
      </ion-list>

      <ion-item class="item item-divider"
                ng-click="toggleList(2)"
                ng-class="{active: listsShow[2]}">
        <i class="icon" ng-class="listsShow[2] ? 'ion-minus' : 'ion-plus'"></i>
        &nbsp;
        Group Members ({{activeMembers.length}})
      </ion-item>

      <ion-list>
        <ion-item ng-repeat="member in activeMembers" ng-show="listsShow[2]">
          <span class="ion-person"></span>
          <span class="padding-left padding-right">
            {{member.name}}
            <span class="item-note">{{member.email}}</span>
          </span>
        </ion-item>
      </ion-list>

      <ion-item class="item item-divider"
                ng-click="toggleList(3)"
                ng-class="{active: listsShow[3]}">
        <i class="icon" ng-class="listsShow[3] ? 'ion-minus' : 'ion-plus'"></i>
        &nbsp;
        Invited Users ({{pendingMembers.length}})
      </ion-item>

      <ion-list>
        <ion-item ng-repeat="member in pendingMembers" ng-show="listsShow[3]">
          <span class="ion-person padding-left-small"></span>
          <span class="padding-left padding-right">
            {{member.name}}
            <span class="item-note">{{member.email}}</span>
          </span>
        </ion-item>
      </ion-list>


    </div>
  </ion-content>

  <div class="bar bar-footer">
    <div class="footer-title">
      <button class="button button-icon ion-android-add" ng-click="showCreateWutudu()">
        <span class="padding-left">CREATE WUTUDU</span>
      </button>
    </div>
  </div>

</ion-view>
