<ion-view hide-nav-bar="false" view-title="Groups">

  <ion-nav-buttons side="right">
    <button class="button button-icon ion-plus" ng-click="showCreateGroup()">
    </button>
  </ion-nav-buttons>

  <ion-content>
    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="doRefresh()">
    </ion-refresher>

    <div class="list">

      <ion-item class="item item-divider"
                ng-click="toggleList(0)"
                ng-class="{active: listsShow[0]}">
        Active ({{activeGroups.length}})
        <i class="icon float-right" ng-class="listsShow[0] ? 'ion-chevron-up' : 'ion-chevron-down'"></i>
      </ion-item>

      <ion-list can-swipe="true">
        <ion-item ng-repeat="group in activeGroups"
                  href="#/app/group/{{group.id}}/{{group.name}}"
                  ng-show="listsShow[0]">
          <span class="ion-ios-people" style="font-size: 125%";></span>
          <span class="padding-left padding-right">
            {{group.name}}
          </span>
          <ion-option-button class="button-assertive" ng-click="leaveGroup(group.id)">
            Leave
          </ion-option-button>
        </ion-item>
      </ion-list>

      <ion-item class="item item-divider"
                ng-click="toggleList(1)"
                ng-class="{active: listsShow[1]}">
        Group Invitations ({{pendingGroups.length}})
        <i class="icon float-right" ng-class="listsShow[1] ? 'ion-chevron-up' : 'ion-chevron-down'"></i>
      </ion-item>

      <ion-list can-swipe="true">
        <ion-item ng-repeat="group in pendingGroups"
                  href="#/app/group/{{group.id}}/{{group.name}}"
                  ng-show="listsShow[1]">
          <span class="ion-android-send rotate-180 inline-block"></span>
          <span class="padding-left padding-right">
            {{group.name}}
          </span>
          <ion-option-button class="button-balanced" ng-click="acceptInvitation(group.id)">
            Accept
          </ion-option-button>
          <ion-option-button class="button-assertive" ng-click="declineInvitation(group.id)">
            Decline
          </ion-option-button>
        </ion-item>
      </ion-list>

    </div>
  </ion-content>

</ion-view>

